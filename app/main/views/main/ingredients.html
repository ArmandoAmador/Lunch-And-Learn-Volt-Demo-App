<:Title>
  Ingredients

<:Body>
   <h1>Ingredients</h1>

   <div class="row">
     <div class="col-md-12">
       <form e-submit="add_ingredient" role="form">
         <div class="form-group">
           <label>Name</label>
           <input type="text" class="form-control"
             value="{{page._new_ingredient!._name}}">
         </div>
         <div class="form-group">
           <label>Description</label>
           <textarea class="form-control" rows="3"
             value="{{page._new_ingredient!._description}}">
           </textarea>
         </div>
         <button type="submit" class="btn btn-default">
           Add New Ingredient
         </button>
       </form>
     </div>
   </div>

<div class="row">
  <div class="col-md-12">
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {{ _ingredients.each_with_index do |ingredient, index| }}
        <tr e-click="params._index = index"
          class="
          {{ if (params._index || 0).to_i == index }}selected{{end}}">
          <td>{{ ingredient._name}}</td>
          <td>{{ ingredient._description}}</td>
          <td><button e-click="ingredient.destroy">X</button></td>
        </tr>
        {{ end }}
      </tbody>
    </table>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    {{ if current_ingredient }}
    <h2>{{ current_ingredient._name }}</h2>

    <textarea>{{ current_ingredient._price }}</textarea>
    {{ end }}
  </div>
</div>
